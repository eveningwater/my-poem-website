"use strict";(self.webpackChunkmy_poem=self.webpackChunkmy_poem||[]).push([[433],{75776:function(L,f,a){a.r(f),a.d(f,{StatisticsComponent:function(){return m},default:function(){return w}});var x=a(90228),v=a.n(x),y=a(87999),k=a.n(y),F=a(48305),c=a.n(F),r=a(75271),s=a(52676),m=function(){var A=(0,r.useState)(!1),p=c()(A,2),j=p[0],u=p[1],B=(0,r.useState)(null),g=c()(B,2),o=g[0],d=g[1],z=(0,r.useState)(!0),C=c()(z,2),D=C[0],E=C[1];(0,r.useEffect)(function(){typeof window!="undefined"&&M()},[]);var M=function(){var e=k()(v()().mark(function n(){var i,l,h,S;return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=function(){var N=window.location.pathname;return console.log(N),N.includes("my-poem-website")?"/my-poem-website/":"/"},l=i(),t.next=5,fetch("".concat(l,"statistics.json?t=").concat(Date.now()));case 5:if(h=t.sent,!h.ok){t.next=13;break}return t.next=9,h.json();case 9:S=t.sent,d(S),t.next=14;break;case 13:d({total:0,\u65E7\u4F53\u8BD7:0,\u65E7\u4F53\u8BCD:0,\u73B0\u4EE3\u8BD7:0,\u6B4C\u66F2:0,\u5BF9\u8054:0,\u5143\u66F2:0,\u6587\u8A00\u6587:0,\u77ED\u7BC7\u5C0F\u8BF4:0,\u53E5:0});case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Failed to load statistics:",t.t0),d({total:0,\u65E7\u4F53\u8BD7:0,\u65E7\u4F53\u8BCD:0,\u73B0\u4EE3\u8BD7:0,\u6B4C\u66F2:0,\u5BF9\u8054:0,\u5143\u66F2:0,\u6587\u8A00\u6587:0,\u77ED\u7BC7\u5C0F\u8BF4:0,\u53E5:0});case 20:return t.prev=20,E(!1),t.finish(20);case 23:case"end":return t.stop()}},n,null,[[0,16,20,23]])}));return function(){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"statistics-trigger",onClick:function(){return u(!j)},children:(0,s.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4865",width:"200",height:"200",children:[(0,s.jsx)("path",{d:"M1024.25175 0l-209.92 23.04L883.45175 92.16 655.61175 370.688 419.06775 152.064c-15.872-14.848-40.96-14.848-57.344-0.512L14.07575 465.408C-3.33225 481.28-4.86825 508.416 11.00375 525.824c8.192 9.216 19.968 13.824 31.744 13.824 10.24 0 20.48-3.584 28.672-10.752l318.464-287.744 241.152 222.72c8.704 8.192 20.48 11.776 31.744 11.264 11.776-1.024 22.528-6.656 30.208-15.36l250.88-306.688 57.344 57.344L1024.25175 0z m0 0M133.37175 1024H30.97175c-16.896 0-30.72-13.824-30.72-30.72v-348.16c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v348.16c0 16.896-13.824 30.72-30.72 30.72z","p-id":"4866",fill:"#fff"}),(0,s.jsx)("path",{d:"M420.09175 1024H317.69175c-16.896 0-30.72-13.824-30.72-30.72V440.32c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v552.96c0 16.896-13.824 30.72-30.72 30.72zM706.81175 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72v-399.36c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v399.36c0 16.896-13.824 30.72-30.72 30.72zM993.53175 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V337.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v655.36c0 16.896-13.824 30.72-30.72 30.72z","p-id":"4867",fill:"#fff"})]})}),j&&(0,s.jsx)("div",{className:"statistics-overlay",onClick:function(){return u(!1)},children:(0,s.jsxs)("div",{className:"statistics-modal",onClick:function(n){return n.stopPropagation()},children:[(0,s.jsxs)("div",{className:"statistics-header",children:[(0,s.jsx)("h2",{children:"\u4F5C\u54C1\u7EDF\u8BA1"}),(0,s.jsx)("button",{className:"statistics-close",onClick:function(){return u(!1)},children:"\xD7"})]}),(0,s.jsx)("div",{className:"statistics-content",children:D?(0,s.jsx)("div",{className:"statistics-loading",children:"\u52A0\u8F7D\u4E2D..."}):o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"statistics-total",children:[(0,s.jsx)("span",{className:"statistics-label",children:"\u603B\u8BA1\uFF1A"}),(0,s.jsx)("span",{className:"statistics-value",children:o.total})]}),(0,s.jsx)("div",{className:"statistics-list",children:Object.entries(o).filter(function(e){var n=c()(e,1),i=n[0];return i!=="total"}).map(function(e){var n=c()(e,2),i=n[0],l=n[1];return(0,s.jsxs)("div",{className:"statistics-item",children:[(0,s.jsxs)("span",{className:"statistics-type",children:[i,"\uFF1A"]}),(0,s.jsx)("span",{className:"statistics-count",children:l})]},i)})})]}):(0,s.jsx)("div",{className:"statistics-error",children:"\u6682\u65E0\u6570\u636E"})})]})})]})},w=m}}]);
